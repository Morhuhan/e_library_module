Отчеты по задолженностям и текущим на руках

    Список всех не возвращенных экземпляров по состоянию на сегодня.
        Отбор по borrow_record.return_date IS NULL.
        В отчете можно дополнительно выводить person_id, ФИО человека, дату выдачи, плановую дату возврата (если хранится в due_date), а также информацию о книге (название, local_index, идентификатор экземпляра).
    Список просроченных экземпляров (если используется due_date).
        Условие: return_date IS NULL AND due_date < CURRENT_DATE.
        Аналогично первому пункту, но с дополнительной сортировкой или выделением due_date, чтобы видеть, на сколько дней просрочен возврат.

2. Статистика по популярности / частоте выдач

    Топ самых популярных книг
        Считается количество записей о выдаче (borrow_record) на каждую книгу.
        Можно вывести, например, топ-10 книг по убыванию количества выдач за весь период, либо за период (см. пункт про фильтр по дате ниже).
    Топ самых «активных» читателей (Person)
        Аналогично, но группировка по person_id: сколько раз человек за весь период брал книги.
        Можно вывести также статистику возвратов и невозвратов.
    Топ самых «активных» библиотекарей (Users), которые выдали больше всех книг
        Группировка по issued_by_user_id.

3. Отчеты за определенный период

Так как в borrow_record хранится borrow_date и return_date, можно делать отчеты за выбранный диапазон дат:

    Сколько всего было выдано книг за период (по borrow_date).
        Например, «за последний месяц» или «с 01.01.2023 по 01.04.2023».
    Сколько книг вернули за период (по return_date).
        Например, «за последний квартал».
    Сравнительный отчет: сколько было выдано / сколько вернули / сколько осталось на руках на начало-конец периода.
    Динамика выдач — по дням, неделям или месяцам (график либо просто таблица сгруппированных данных).

4. Прочие интересные отчеты

    Книги, у которых нет ни одного экземпляра (или ни одного доступного).
        Для этого смотрим, у скольких книг отсутствуют связанные book_copy.
    Книги, которые никогда не выдавались.
        Отобрать книги, у которых нет записей в borrow_record (через связь book_copy -> borrow_record).
    Анализ нагрузок на библиотеку:
        Сколько раз в день/неделю/месяц в среднем происходит выдача (кол-во новых borrow_record) и возврат (кол-во return_date != NULL за период).
    Сводный отчет о состоянии всех экземпляров книги
        Для каждой книги: общее количество экземпляров, сколько из них сейчас в наличии (не выданы), сколько на руках (выданы), сколько просрочено (если есть due_date).
